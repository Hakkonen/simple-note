{"ast":null,"code":"import _toConsumableArray from\"/Users/synesis/Documents/Developer/simple-note/simple-note-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _createForOfIteratorHelper from\"/Users/synesis/Documents/Developer/simple-note/simple-note-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/synesis/Documents/Developer/simple-note/simple-note-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import IndexItem from\"./components/IndexItem\";import ContentEditable from\"react-contenteditable\";import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),noteID=_useState4[0],setNoteID=_useState4[1];// Opens object as note\nfunction OpenNote(e){console.log(\"event: \",e.target);// Get ID\nvar selectID=e.target.id;console.log(\"selectedID: \",selectID);// Load ID object to note page\nvar selectedNote;var _iterator=_createForOfIteratorHelper(notes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(item.index==selectID){selectedNote=item;console.log(\"selected: \",selectedNote);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}setNoteID(selectedNote.index);console.log(\"noteID: \",noteID);}// Creates new note\nfunction createNote(){// Get index count\nvar newNoteIndex=0;for(var i=0;i<notes.length;i++){if(notes[i].index==newNoteIndex){newNoteIndex=notes[i].index+1;}}// Get date\nvar d=new Date();var noteDate=\"\".concat(d.getFullYear(),\"/\").concat(d.getMonth(),\"/\").concat(d.getDate(),\" \").concat(d.getHours(),\":\").concat(d.getMinutes(),\":\").concat(d.getSeconds());setNoteID(newNoteIndex);setNotes([].concat(_toConsumableArray(notes),[{index:newNoteIndex,header:\"Header\",text:\"Text body\",date:noteDate}]));console.log(notes);}// Deletes note\nfunction deleteNote(){// Map all notes but active note into state\nvar newNotes=notes.filter(function(note){return note.index!==noteID;});setNotes(newNotes);// Remaps note ID's\nfor(var i=noteID;i<notes.length;i++){notes[i].index-=1;}// Set noteID to next note\nvar newIndex=0;for(var _i=0;_i<notes.length-1;_i++){newIndex+=1;}setNoteID(newIndex);}// Removes styling from ctrl+c pasting\nfunction PasteAsPlainText(event){event.preventDefault();var text=event.clipboardData.getData(\"text/plain\");document.execCommand(\"insertHTML\",false,text);}// Removes & markup from spaces\nvar trimSpaces=function trimSpaces(string){return string.replace(/&nbsp;/g,' ').replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<');};// Populates note index\nvar printNotes=[];for(var i=0;i<notes.length;i++){printNotes.push(/*#__PURE__*/_jsx(IndexItem,{index:notes[i].index,header:notes[i].header,text:notes[i].text,date:notes[i].date,OpenNote:OpenNote},notes[i].index));}// Updates state for selected header in object\nfunction changeHeader(e){var newNotes=notes.map(function(note){if(note.index==noteID){note.header=trimSpaces(e.target.value);return note;}return note;});setNotes(function(){return newNotes;});}// Updates state for selected text body in object\nfunction changeText(e){var newNotes=notes.map(function(note){if(note.index==noteID){note.text=trimSpaces(e.target.value);return note;}return note;});setNotes(function(){return newNotes;});}return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-logo\",children:/*#__PURE__*/_jsx(\"p\",{children:\"SimpleNote\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"new-note\",children:/*#__PURE__*/_jsx(\"span\",{onClick:createNote,children:/*#__PURE__*/_jsx(\"p\",{children:\"+\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"note-index\",children:printNotes}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-page\",children:[/*#__PURE__*/_jsx(ContentEditable,{html:notes[noteID]?notes[noteID].header:null,className:\"content-editable note-header\",onChange:changeHeader,onPaste:PasteAsPlainText}),/*#__PURE__*/_jsx(ContentEditable,{html:notes[noteID]?notes[noteID].text:null,className:\"content-editable note-text\",onChange:changeText,onPaste:PasteAsPlainText}),/*#__PURE__*/_jsx(\"span\",{className:\"note-delete\",onClick:deleteNote,children:/*#__PURE__*/_jsx(\"p\",{children:\"-\"})})]})]})]});}export default App;","map":{"version":3,"sources":["/Users/synesis/Documents/Developer/simple-note/simple-note-react/src/App.js"],"names":["React","useEffect","useState","IndexItem","ContentEditable","App","notes","setNotes","noteID","setNoteID","OpenNote","e","console","log","target","selectID","id","selectedNote","item","index","createNote","newNoteIndex","i","length","d","Date","noteDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","header","text","date","deleteNote","newNotes","filter","note","newIndex","PasteAsPlainText","event","preventDefault","clipboardData","getData","document","execCommand","trimSpaces","string","replace","printNotes","push","changeHeader","map","value","changeText"],"mappings":"qkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,eAAP,KAA4B,uBAA5B,CACA,MAAO,WAAP,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,eACeH,QAAQ,CAAC,EAAD,CADvB,wCACLI,KADK,eACEC,QADF,8BAEiBL,QAAQ,CAAC,CAAD,CAFzB,yCAELM,MAFK,eAEGC,SAFH,eAIb;AACA,QAASC,CAAAA,QAAT,CAAkBC,CAAlB,CAAqB,CACnBC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBF,CAAC,CAACG,MAAzB,EACA;AACA,GAAMC,CAAAA,QAAQ,CAAGJ,CAAC,CAACG,MAAF,CAASE,EAA1B,CACAJ,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BE,QAA5B,EACA;AACA,GAAIE,CAAAA,YAAJ,CANmB,yCAODX,KAPC,YAOnB,+CAAyB,IAAfY,CAAAA,IAAe,aACvB,GAAGA,IAAI,CAACC,KAAL,EAAcJ,QAAjB,CAA2B,CACzBE,YAAY,CAAGC,IAAf,CACAN,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BI,YAA1B,EACD,CACF,CAZkB,qDAanBR,SAAS,CAACQ,YAAY,CAACE,KAAd,CAAT,CACAP,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBL,MAAxB,EACD,CAED;AACA,QAASY,CAAAA,UAAT,EAAsB,CACpB;AACA,GAAIC,CAAAA,YAAY,CAAG,CAAnB,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAGhB,KAAK,CAACiB,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACpC,GAAGhB,KAAK,CAACgB,CAAD,CAAL,CAASH,KAAT,EAAkBE,YAArB,CAAmC,CACjCA,YAAY,CAAGf,KAAK,CAACgB,CAAD,CAAL,CAASH,KAAT,CAAiB,CAAhC,CACD,CACF,CACD;AACA,GAAIK,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,EAAR,CACA,GAAIC,CAAAA,QAAQ,WAAMF,CAAC,CAACG,WAAF,EAAN,aAAyBH,CAAC,CAACI,QAAF,EAAzB,aAAyCJ,CAAC,CAACK,OAAF,EAAzC,aAAwDL,CAAC,CAACM,QAAF,EAAxD,aAAwEN,CAAC,CAACO,UAAF,EAAxE,aAA0FP,CAAC,CAACQ,UAAF,EAA1F,CAAZ,CACAvB,SAAS,CAACY,YAAD,CAAT,CACAd,QAAQ,8BAAKD,KAAL,GAAY,CAClBa,KAAK,CAAEE,YADW,CAElBY,MAAM,CAAE,QAFU,CAGlBC,IAAI,CAAE,WAHY,CAIlBC,IAAI,CAAET,QAJY,CAAZ,GAAR,CAMAd,OAAO,CAACC,GAAR,CAAYP,KAAZ,EACD,CAED;AACA,QAAS8B,CAAAA,UAAT,EAAsB,CACpB;AACA,GAAIC,CAAAA,QAAQ,CAAG/B,KAAK,CAACgC,MAAN,CAAa,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACpB,KAAL,GAAeX,MAAnB,EAAjB,CAAf,CACAD,QAAQ,CAAC8B,QAAD,CAAR,CAEA;AACA,IAAI,GAAIf,CAAAA,CAAC,CAAGd,MAAZ,CAAoBc,CAAC,CAAGhB,KAAK,CAACiB,MAA9B,CAAsCD,CAAC,EAAvC,CAA2C,CACzChB,KAAK,CAACgB,CAAD,CAAL,CAASH,KAAT,EAAkB,CAAlB,CACD,CAED;AACA,GAAIqB,CAAAA,QAAQ,CAAG,CAAf,CACA,IAAI,GAAIlB,CAAAA,EAAC,CAAG,CAAZ,CAAeA,EAAC,CAAIhB,KAAK,CAACiB,MAAN,CAAe,CAAnC,CAAuCD,EAAC,EAAxC,CAA4C,CAC1CkB,QAAQ,EAAI,CAAZ,CACD,CACD/B,SAAS,CAAC+B,QAAD,CAAT,CACD,CAED;AACA,QAASC,CAAAA,gBAAT,CAA2BC,KAA3B,CAAkC,CAChCA,KAAK,CAACC,cAAN,GAEA,GAAMT,CAAAA,IAAI,CAAGQ,KAAK,CAACE,aAAN,CAAoBC,OAApB,CAA4B,YAA5B,CAAb,CACAC,QAAQ,CAACC,WAAT,CAAqB,YAArB,CAAmC,KAAnC,CAA0Cb,IAA1C,EACD,CAED;AACA,GAAMc,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,MAAD,CAAY,CAC7B,MAAOA,CAAAA,MAAM,CACVC,OADI,CACI,SADJ,CACe,GADf,EAEJA,OAFI,CAEI,QAFJ,CAEc,GAFd,EAGJA,OAHI,CAGI,OAHJ,CAGa,GAHb,EAIJA,OAJI,CAII,OAJJ,CAIa,GAJb,CAAP,CAKD,CAND,CAQA;AACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,IAAI,GAAI7B,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAGhB,KAAK,CAACiB,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACpC6B,UAAU,CAACC,IAAX,cACE,KAAC,SAAD,EAEE,KAAK,CAAE9C,KAAK,CAACgB,CAAD,CAAL,CAASH,KAFlB,CAGE,MAAM,CAAEb,KAAK,CAACgB,CAAD,CAAL,CAASW,MAHnB,CAIE,IAAI,CAAE3B,KAAK,CAACgB,CAAD,CAAL,CAASY,IAJjB,CAKE,IAAI,CAAE5B,KAAK,CAACgB,CAAD,CAAL,CAASa,IALjB,CAME,QAAQ,CAAEzB,QANZ,EACOJ,KAAK,CAACgB,CAAD,CAAL,CAASH,KADhB,CADF,EAUD,CAED;AACA,QAASkC,CAAAA,YAAT,CAAsB1C,CAAtB,CAAyB,CACvB,GAAI0B,CAAAA,QAAQ,CAAG/B,KAAK,CAACgD,GAAN,CAAU,SAAAf,IAAI,CAAI,CAC/B,GAAGA,IAAI,CAACpB,KAAL,EAAcX,MAAjB,CAAyB,CACvB+B,IAAI,CAACN,MAAL,CAAce,UAAU,CAACrC,CAAC,CAACG,MAAF,CAASyC,KAAV,CAAxB,CACA,MAAOhB,CAAAA,IAAP,CACD,CACD,MAAOA,CAAAA,IAAP,CACD,CANc,CAAf,CAOAhC,QAAQ,CAAC,iBAAM8B,CAAAA,QAAN,EAAD,CAAR,CACD,CAED;AACA,QAASmB,CAAAA,UAAT,CAAoB7C,CAApB,CAAuB,CACrB,GAAI0B,CAAAA,QAAQ,CAAG/B,KAAK,CAACgD,GAAN,CAAU,SAAAf,IAAI,CAAI,CAC/B,GAAGA,IAAI,CAACpB,KAAL,EAAcX,MAAjB,CAAyB,CACvB+B,IAAI,CAACL,IAAL,CAAYc,UAAU,CAACrC,CAAC,CAACG,MAAF,CAASyC,KAAV,CAAtB,CACA,MAAOhB,CAAAA,IAAP,CACD,CACD,MAAOA,CAAAA,IAAP,CACD,CANc,CAAf,CAOAhC,QAAQ,CAAC,iBAAM8B,CAAAA,QAAN,EAAD,CAAR,CACD,CAED,mBACE,aAAK,SAAS,CAAC,eAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,YAAK,SAAS,CAAC,aAAf,uBACE,iCADF,EADF,cAIE,YAAK,SAAS,CAAC,UAAf,uBACE,aACE,OAAO,CAAEjB,UADX,uBAIE,wBAJF,EADF,EAJF,GAFF,cAgBE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,YAAf,UAEG+B,UAFH,EADF,cAME,aAAK,SAAS,CAAC,WAAf,wBAEE,KAAC,eAAD,EACE,IAAI,CAAE7C,KAAK,CAACE,MAAD,CAAL,CAAgBF,KAAK,CAACE,MAAD,CAAL,CAAcyB,MAA9B,CAAuC,IAD/C,CAEE,SAAS,CAAC,8BAFZ,CAGE,QAAQ,CAAEoB,YAHZ,CAIE,OAAO,CAAEZ,gBAJX,EAFF,cAQE,KAAC,eAAD,EACE,IAAI,CAAEnC,KAAK,CAACE,MAAD,CAAL,CAAgBF,KAAK,CAACE,MAAD,CAAL,CAAc0B,IAA9B,CAAqC,IAD7C,CAEE,SAAS,CAAC,4BAFZ,CAGE,QAAQ,CAAEsB,UAHZ,CAIE,OAAO,CAAEf,gBAJX,EARF,cAcE,aACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAEL,UAFX,uBAIE,wBAJF,EAdF,GANF,GAhBF,GADF,CAiDD,CAED,cAAe/B,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport IndexItem from \"./components/IndexItem\"\nimport ContentEditable from \"react-contenteditable\"\nimport './App.css'\n\nfunction App() {\n  const [ notes, setNotes ] = useState([])\n  const [ noteID, setNoteID ] = useState(0)\n\n  // Opens object as note\n  function OpenNote(e) {\n    console.log(\"event: \", e.target)\n    // Get ID\n    const selectID = e.target.id\n    console.log(\"selectedID: \", selectID)\n    // Load ID object to note page\n    let selectedNote\n    for(const item of notes) {\n      if(item.index == selectID) {\n        selectedNote = item\n        console.log(\"selected: \", selectedNote)\n      }\n    }\n    setNoteID(selectedNote.index)\n    console.log(\"noteID: \", noteID)\n  }\n\n  // Creates new note\n  function createNote() {\n    // Get index count\n    let newNoteIndex = 0\n    for(let i = 0; i < notes.length; i++) {\n      if(notes[i].index == newNoteIndex) {\n        newNoteIndex = notes[i].index + 1\n      }\n    }\n    // Get date\n    let d = new Date()\n    let noteDate = `${d.getFullYear()}/${d.getMonth()}/${d.getDate()} ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`\n    setNoteID(newNoteIndex)\n    setNotes([...notes, {\n      index: newNoteIndex,\n      header: \"Header\",\n      text: \"Text body\",\n      date: noteDate\n    }])\n    console.log(notes)\n  }\n\n  // Deletes note\n  function deleteNote() {\n    // Map all notes but active note into state\n    let newNotes = notes.filter(note => note.index !== noteID)\n    setNotes(newNotes)\n\n    // Remaps note ID's\n    for(let i = noteID; i < notes.length; i++) {\n      notes[i].index -= 1\n    }\n\n    // Set noteID to next note\n    let newIndex = 0\n    for(let i = 0; i < (notes.length - 1); i++) {\n      newIndex += 1\n    }\n    setNoteID(newIndex)\n  }\n\n  // Removes styling from ctrl+c pasting\n  function PasteAsPlainText (event) {\n    event.preventDefault()\n\n    const text = event.clipboardData.getData(\"text/plain\")\n    document.execCommand(\"insertHTML\", false, text)\n  }\n\n  // Removes & markup from spaces\n  const trimSpaces = (string) => {\n    return string\n      .replace(/&nbsp;/g, ' ')\n      .replace(/&amp;/g, '&')\n      .replace(/&gt;/g, '>')\n      .replace(/&lt;/g, '<')\n  }\n\n  // Populates note index\n  let printNotes = []\n  for(let i = 0; i < notes.length; i++) {\n    printNotes.push(\n      <IndexItem\n        key={notes[i].index}\n        index={notes[i].index} \n        header={notes[i].header} \n        text={notes[i].text} \n        date={notes[i].date}\n        OpenNote={OpenNote}\n      />\n    )\n  }\n\n  // Updates state for selected header in object\n  function changeHeader(e) {\n    let newNotes = notes.map(note => {\n      if(note.index == noteID) {\n        note.header = trimSpaces(e.target.value)\n        return note\n      }\n      return note\n    })\n    setNotes(() => newNotes)\n  }\n\n  // Updates state for selected text body in object\n  function changeText(e) {\n    let newNotes = notes.map(note => {\n      if(note.index == noteID) {\n        note.text = trimSpaces(e.target.value)\n        return note\n      }\n      return note\n    })\n    setNotes(() => newNotes)\n  }\n\n  return (\n    <div className=\"app-container\">\n\n      <div className=\"navbar\">\n        <div className=\"navbar-logo\">\n          <p>SimpleNote</p>\n        </div>\n        <div className=\"new-note\">\n          <span\n            onClick={createNote}\n          >\n            {/* New note */}\n            <p>+</p>\n          </span>\n        </div>\n      </div>\n\n      <div className=\"note-container\">\n        <div className=\"note-index\">\n          {/* Populates index */}\n          {printNotes}\n        </div>\n\n        <div className=\"note-page\">\n          {/* Note editing function */}\n          <ContentEditable  \n            html={notes[noteID] ? notes[noteID].header : null}\n            className=\"content-editable note-header\"\n            onChange={changeHeader}\n            onPaste={PasteAsPlainText}\n          />\n          <ContentEditable  \n            html={notes[noteID] ? notes[noteID].text : null}\n            className=\"content-editable note-text\"\n            onChange={changeText}\n            onPaste={PasteAsPlainText}\n          />\n          <span \n            className=\"note-delete\"\n            onClick={deleteNote}\n          >\n            <p>\n              -\n            </p>\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}